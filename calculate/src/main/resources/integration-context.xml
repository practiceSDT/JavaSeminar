<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:int="http://www.springframework.org/schema/integration"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
		http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration-4.2.xsd">

    <!-- Component scan to find all Spring components 
    <context:component-scan base-package="study.spring" />
-->
    <!-- A Spring Integration channel -->
    <int:channel id="inputChannel" />

    <!-- A Spring Integration adapter that routes messages sent to the helloWorldChannel to the bean named "helloServiceImpl"'s hello() method -->
    <int:service-activator input-channel="inputChannel" ref="reciveDataEntry" output-channel="outputChannel"/>

    <int:channel id="outputChannel"></int:channel>
    <int:service-activator input-channel="outputChannel" ref="calculateDataEntry" ></int:service-activator>

	<int:gateway id="dtoGateway"
    	 service-interface="study.spring.entry.IDtoCollectorGateway" error-channel="failedChannel">
    	<int:method name="collectDto" request-channel="inputChannel" />
	</int:gateway>
	<int:channel id = "failedChannel" />
    <int:service-activator input-channel="failedChannel" ref="failedHandler" />
    
</beans>
